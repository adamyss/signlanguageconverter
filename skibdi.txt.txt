#include <Adafruit_GFX.h>
#include <Adafruit_NeoMatrix.h>
#include <Adafruit_NeoPixel.h>
#include <Fonts/Picopixel.h>
#include <Vector.h>

using namespace std;
#define LED_PIN    6
#ifndef PSTR
#define PSTR 
#endif
typedef Vector<int> matrixy;
#define LED_COUNT 256
#define BUTTON_PIN 2
#define BLACK    0x0000
#define BLUE     0x001F
#define RED      0xF800
#define GREEN    0x07E0
#define CYAN     0x07FF
#define MAGENTA  0xF81F
#define YELLOW   0xFFE0 
#define WHITE    0xFFFF
int correspondingAmounts[5] = {0,0,0,0,0};
String words[4] = {"shooting","peace","Nu uh","RUDE"};
int fun[4][5] ={
  {1,1,0,0,0},
  {0,1,-1,1,0},
  {0,0,0,0,0},
  {0,0,1,0,0}
};
Adafruit_NeoMatrix matrix = Adafruit_NeoMatrix(
  32, 8, LED_PIN,
  NEO_MATRIX_TOP + NEO_MATRIX_LEFT +
  NEO_MATRIX_COLUMNS + NEO_MATRIX_ZIGZAG,
  NEO_GRB + NEO_KHZ800
);
matrixy vect;
void setup() {
    Serial.begin(9600);
  Serial.println("");
   Serial.println("");
    Serial.println("");
     Serial.println("");
      Serial.println("");

   pinMode(BUTTON_PIN, INPUT);
  void drawChar(uint16_t x, uint16_t y, char c, uint16_t color, uint16_t bg, uint8_t size);
  void setCursor(int16_t x0, int16_t y0);
  void setTextColor(uint16_t color);
  void setTextColor(uint16_t color, uint16_t backgroundcolor);
  void setTextSize(uint8_t size);
  void setTextWrap(boolean w);
int testy[50];
  vect.setStorage(testy);
matrix.begin();
  pinMode(A0, INPUT);
   pinMode(A1, INPUT);
   pinMode(A2, INPUT);
matrix.setBrightness(5);
matrix.setTextWrap(false);
 matrix.setFont(&Picopixel);
 matrix.setCursor(0, 0);
 matrix.setTextSize(1);
 matrix.show();
}
bool reset = false;
int sensor = 0;
int sensor2 = 0;
int sensor3 = 0;
int sensor4 = 0;
int sensor5 = 0;
bool called;
bool recording = false;
bool canCheckAgain = true;
int counter = 0;


void checkSymbol(){
   matrix.setCursor(0, 0);
 matrix.fillScreen(WHITE);
   matrix.print('\n');
   matrix.setTextColor(BLACK);
    matrix.print("ANAYLIZING");
    matrix.show();
    for(int i = 0; i < counter; i++){
      Serial.print("finger: ");
      Serial.print((i%5)+1);
      Serial.print("  ");
      Serial.println(vect[i]);
    }
    int testy[50];
    vect.setStorage(testy);
}

void loop() {
  
  
 if (digitalRead(BUTTON_PIN) == HIGH && canCheckAgain == true) {
  Serial.println("");
   Serial.println("");
    Serial.println("");
     Serial.println("");
      Serial.println("");
  for (int i = 0; i < 5; i++){
    Serial.print(i+1);
    Serial.print(" :");
  Serial.println(correspondingAmounts[i]);

}
  delay(3000);
canCheckAgain = false;
 } else if (digitalRead(BUTTON_PIN) == LOW){
  canCheckAgain = true;
 }
sensor = analogRead(A0);
sensor3 = analogRead(A2);
sensor4 = analogRead(A4);
sensor5 = analogRead(A5);
sensor2 = analogRead(A1);

 matrix.setCursor(0, 0);
 matrix.fillScreen(WHITE);
   matrix.print('\n');
   matrix.setTextColor(BLACK);
 if(reset == true){
        reset = false;
        matrix.begin();
        Serial.print("no Screen\n");
      }
  correspondingAmounts[0] = sensor;
  correspondingAmounts[1] = sensor2;
  correspondingAmounts[2] = sensor3;
  correspondingAmounts[4] = sensor5;
  correspondingAmounts[3] = sensor4;

bool none = true;
for (int a = 0; a < 4; a++){
  bool good = true;
for (int i = 0; i < 5; i++){
  int amount = correspondingAmounts[i];
  int target = fun[a][i];

  bool isPushed = false;
  if (amount >= 100){
    isPushed = true;
  } 

bool tar = bool(target);

if(isPushed != tar){
  if(good == true && a == 3){
    Serial.print(i);
    Serial.print("val:");
    Serial.println(isPushed);
  }
  good = false;
  
} 
// matthew wuz here
}
if(good == true){
  none = false;
  matrix.print(words[a]);
}
}
if(none == true){
  matrix.print("none");
}
// hi
 
   matrix.show();

}
